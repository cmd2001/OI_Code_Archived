20180507小测

对我而言相当失败的一次考试呢。
(昨天失了智一晚上没睡觉还好意思说)

T1:

看到数据范围与值域有关，是不是想到了一些有趣的事情呢？
两两gcd为1，显然我们把同时选出的数分解质因子后，每个质数出现最多一次。是不是能状压DP呢？
(然后我发现2000内的质数有将近200个，没法状压，然后写了30分暴力)
这里有一个很显然的性质，数字x>=sqrt(x)的质因子最多只有1个，所以我们只需要状压<=sqrt(2000)的质因数，即{2-43}，只有14个。
其余的，我们能按照大质因子分组，然后每组最多选1个数字。
我们令f[i][sta]表示前i组，质因数状态为sta的方案数。转移的话可以枚举这组选择哪个数字，然后进行转移。
注意没有>43质因子的数字要各自一组，因为它们不存在互斥状态。
代码:

T2:

字符串题，我只会后缀自动机......
很好，这题，后缀自动机不可做......然后我就GG了。
考虑SAM怎么做这道题，我们用可持久话线段树记录每个点的right集合，然后我们要找<=节点len的right集合中两个数的最大差......
这个东西由于存在自身对自身的贡献，所以没法启发式合并。
然后我就写了48分哈希。

考虑用后缀数组求LCP和LCS。
我们考虑枚举这个串的循环节的一半为i，然后在这个字符串中取1+k*i位置为关键点。
然后枚举两个相邻的关键点。显然如果有一个能满足条件的串存在的话，它一定是前一半过第一个关键点，后一半过第二个关键点的。
好的，我们可以求出这两个点的LCP和LCS之和，如果>=i的话，则证明存在长度>=i的满足条件的串。
复杂度为O(nlogn)，注意构造后缀数组不能用SAM，会MLE.....要么DC3或者后缀平衡树，要么老老实实写倍增(然而我不会倍增)。
爆内存的SAM:
倍增:

T3:

考试的时候根本没时间看这题了(其实是前两题不会就心态爆炸弃疗了)。
正解是一个神奇的构造:

代码:

我は此Iにて石となる 同胞をoる石となる
我愿在此成为一块石 成为保护兄弟姐妹的石头
宜膜い蚴埭堡皮胜 物言わぬ石に在うべし
诚然地承受灾难 一言不发的石头
この亩颏舜イ欷郡趣 失うがこそ卑しけれ
以体验这灾祸为荣 以错过此为耻
心より憎むものなれど 母の手に似た慰幛似く
虽然你从心里憎恨我 但我会用如同母亲般的手抚慰并为你流泪

我は此Iにて石となる 浊Гr刻を越えた先
我愿在此成为一块石 成为历经数千年的石头
共に手をとり生きようと そのをき付けて
在那脸上烙上[一起手牵手活下去吧]
猡铯欷垦を今日は泣く 失うがこそ悲しいけれ
今天流下被诅咒的血泪 错过了才是悲伤
郅郅丹欷郡い瓤蓼 鬼の姿に人の
为想爱与被爱而哭 化身鬼魂现于人梦


事到如今，我怎样已经无所谓了。只是希望我的存在，能尽可能地帮助到他人。仅此而已。